@model GreenDelight.Application.DTOs.UserDtos.UserDto
@{
    ViewData["Title"] = "UserProfile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="contact-box-main">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-sm-12">
                <div class="contact-form-right">
                    <h2>Profilim</h2>
                    <form id="contactForm" enctype="multipart/form-data">
                        <div class="row">
                            <!-- Mevcut Profil Resmi -->
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="profileImagePreview">Mevcut Profil Resmi</label> <br />
                                    <div style="border: 4px solid #b0b435; display: inline-block;">
                                        <img id="profileImagePreview" src="~/images/@Model.ImageUrl" alt="Profil Resmi" class="img-fluid" style="width:150px; height:200px; ">
                                    </div>
                                </div>
                            </div>
                            <!-- Profil Resmi Yükleme Alanı -->
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="profileImage">Profil Resmi Seç</label>
                                    <input type="file" class="form-control" id="profileImage" name="profileImage" accept="image/*">
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>

                            <!-- İsim Alanı -->
                            <div class="col-md-12">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="name" value="@Model.FullName" name="name" placeholder="İsminizi Girin." required data-error="Please enter your name">
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>

                            <!-- Email Alanı -->
                            <div class="col-md-12">
                                <div class="form-group">
                                    <input type="text" placeholder="Your Email" id="email" value="@Model.Email" class="form-control" name="name" required data-error="Please enter your email">
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>

                            <!-- Doğum Tarihi Alanı -->
                            <div class="col-md-12">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="subject" name="name" value="@Model.DateOfBirth" placeholder="Subject" required data-error="Please enter your Subject">
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>

                            <!-- Telefon Numarası Alanı -->
                            <div class="col-md-12">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="subject" name="name" value="@Model.PhoneNumber" placeholder="Subject" required data-error="Please enter your Subject">
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>

                            <!-- Submit Butonu -->
                            <div class="col-md-12">
                                <div class="submit-button text-center">
                                    <button class="btn hvr-hover" id="submit" type="submit">Profili Güncelle</button>
                                    <div id="msgSubmit" class="h3 text-center hidden"></div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Profil resmini yüklerken, görüntüyü önizleyebilmek için JavaScript ekleyelim
    document.getElementById('profileImage').addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('profileImagePreview').src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
</script>